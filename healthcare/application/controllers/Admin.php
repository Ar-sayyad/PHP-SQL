<?phpif (!defined('BASEPATH'))    exit('No direct script access allowed');class Admin extends CI_Controller {    function __construct() {        parent::__construct();        $this->load->database();        $this->load->library('session');                /* cache control */        $this->output->set_header('Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0');        $this->output->set_header('Pragma: no-cache');    }    /*     * *default function, redirects to login page if no admin logged in yet** */    public function index() {        if ($this->session->userdata('admin_login') != 1)            redirect(base_url() . 'index.php?login', 'refresh');        if ($this->session->userdata('admin_login') == 1)            redirect(base_url() . 'index.php?admin/dashboard', 'refresh');    }    /*     * *ADMIN DASHBOARD** */    function dashboard() {        if ($this->session->userdata('admin_login') != 1) {            $this->session->set_userdata('last_page', current_url());            redirect(base_url(), 'refresh');        }        $page_data['page_name'] = 'dashboard';        $page_data['page_title'] = get_phrase('admin_dashboard');        $this->load->view('backend/index', $page_data);    }    /*     * ***LANGUAGE SETTINGS******** */    function manage_language($param1 = '', $param2 = '', $param3 = '') {        if ($this->session->userdata('admin_login') != 1)            redirect(base_url() . 'index.php?login', 'refresh');        if ($param1 == 'edit_phrase') {            $page_data['edit_profile'] = $param2;        }        if ($param1 == 'update_phrase') {            $language = $param2;            $total_phrase = $this->input->post('total_phrase');            for ($i = 1; $i < $total_phrase; $i++) {                //$data[$language]	=	$this->input->post('phrase').$i;                $this->db->where('phrase_id', $i);                $this->db->update('language', array($language => $this->input->post('phrase' . $i)));            }            redirect(base_url() . 'index.php?admin/manage_language/edit_phrase/' . $language, 'refresh');        }        if ($param1 == 'do_update') {            $language = $this->input->post('language');            $data[$language] = $this->input->post('phrase');            $this->db->where('phrase_id', $param2);            $this->db->update('language', $data);            $this->session->set_flashdata('message', get_phrase('settings_updated'));            redirect(base_url() . 'index.php?admin/manage_language/', 'refresh');        }        if ($param1 == 'add_phrase') {            $data['phrase'] = $this->input->post('phrase');            $this->db->insert('language', $data);            $this->session->set_flashdata('message', get_phrase('settings_updated'));            redirect(base_url() . 'index.php?admin/manage_language/', 'refresh');        }        if ($param1 == 'add_language') {            $language = $this->input->post('language');            $this->load->dbforge();            $fields = array(                $language => array(                    'type' => 'LONGTEXT'                )            );            $this->dbforge->add_column('language', $fields);            $this->session->set_flashdata('message', get_phrase('settings_updated'));            redirect(base_url() . 'index.php?admin/manage_language/', 'refresh');        }        if ($param1 == 'delete_language') {            $language = $param2;            $this->load->dbforge();            $this->dbforge->drop_column('language', $language);            $this->session->set_flashdata('message', get_phrase('settings_updated'));            redirect(base_url() . 'index.php?admin/manage_language/', 'refresh');        }        $page_data['page_name'] = 'manage_language';        $page_data['page_title'] = get_phrase('manage_language');        //$page_data['language_phrases'] = $this->db->get('language')->result_array();        $this->load->view('backend/index', $page_data);    }    /*     * ***SITE/SYSTEM SETTINGS******** */    function system_settings($param1 = '', $param2 = '', $param3 = '') {        if ($this->session->userdata('admin_login') != 1)            redirect(base_url() . 'index.php?login', 'refresh');        if ($param1 == 'do_update') {            $this->crud_model->update_system_settings();            $this->session->set_flashdata('message', get_phrase('settings_updated'));            redirect(base_url() . 'index.php?admin/system_settings/', 'refresh');        }        if ($param1 == 'upload_logo') {            move_uploaded_file($_FILES['userfile']['tmp_name'], 'uploads/logo.png');            $this->session->set_flashdata('message', get_phrase('settings_updated'));            redirect(base_url() . 'index.php?admin/system_settings/', 'refresh');        }        $page_data['page_name'] = 'system_settings';        $page_data['page_title'] = get_phrase('system_settings');        $page_data['settings'] = $this->db->get('settings')->result_array();        $this->load->view('backend/index', $page_data);    }       // SMS settings.    function sms_settings($param1 = '') {        if ($this->session->userdata('admin_login') != 1)            redirect(base_url() . 'index.php?login', 'refresh');        if ($param1 == 'do_update') {            $this->crud_model->update_sms_settings();            $this->session->set_flashdata('message', get_phrase('settings_updated'));            redirect(base_url() . 'index.php?admin/sms_settings/', 'refresh');        }        $page_data['page_name'] = 'sms_settings';        $page_data['page_title'] = get_phrase('sms_settings');        $this->load->view('backend/index', $page_data);    }    /*     * ****MANAGE OWN PROFILE AND CHANGE PASSWORD** */    function manage_profile($param1 = '', $param2 = '', $param3 = '') {        if ($this->session->userdata('admin_login') != 1)            redirect(base_url() . 'index.php?login', 'refresh');        if ($param1 == 'update_profile_info') {            $data['name'] = $this->input->post('name');            $data['email'] = $this->input->post('email');            $this->db->where('admin_id', $this->session->userdata('login_user_id'));            $this->db->update('admin', $data);            $this->session->set_flashdata('message', get_phrase('profile_info_updated_successfuly'));            redirect(base_url() . 'index.php?admin/manage_profile');        }        if ($param1 == 'change_password') {            $current_password_input = sha1($this->input->post('password'));            $new_password = sha1($this->input->post('new_password'));            $confirm_new_password = sha1($this->input->post('confirm_new_password'));            $current_password_db = $this->db->get_where('admin', array('admin_id' =>                        $this->session->userdata('login_user_id')))->row()->password;            if ($current_password_db == $current_password_input && $new_password == $confirm_new_password) {                $this->db->where('admin_id', $this->session->userdata('login_user_id'));                $this->db->update('admin', array('password' => $new_password));                $this->session->set_flashdata('message', get_phrase('password_info_updated_successfuly'));                redirect(base_url() . 'index.php?admin/manage_profile');            } else {                $this->session->set_flashdata('message', get_phrase('password_update_failed'));                redirect(base_url() . 'index.php?admin/manage_profile');            }        }        $page_data['page_name'] = 'manage_profile';        $page_data['page_title'] = get_phrase('manage_profile');        $page_data['edit_data'] = $this->db->get_where('admin', array('admin_id' => $this->session->userdata('login_user_id')))->result_array();        $this->load->view('backend/index', $page_data);    }    function department($task = "", $department_id = "") {        if ($this->session->userdata('admin_login') != 1) {            $this->session->set_userdata('last_page', current_url());            redirect(base_url(), 'refresh');        }        if ($task == "create") {            $this->crud_model->save_department_info();            $this->session->set_flashdata('message', get_phrase('department_info_saved_successfuly'));            redirect(base_url() . 'index.php?admin/department');        }        if ($task == "update") {            $this->crud_model->update_department_info($department_id);            $this->session->set_flashdata('message', get_phrase('department_info_updated_successfuly'));            redirect(base_url() . 'index.php?admin/department');        }        if ($task == "delete") {            $this->crud_model->delete_department_info($department_id);            redirect(base_url() . 'index.php?admin/department');        }        $data['department_info'] = $this->crud_model->select_department_info();        $data['page_name'] = 'manage_department';        $data['page_title'] = get_phrase('department');        $this->load->view('backend/index', $data);    }    function doctor($task = "", $doctor_id = "") {        if ($this->session->userdata('admin_login') != 1) {            $this->session->set_userdata('last_page', current_url());            redirect(base_url(), 'refresh');        }        if ($task == "create") {						$this->crud_model->save_doctor_info();			$this->session->set_flashdata('message', get_phrase('doctor_info_saved_successfuly'));						redirect(base_url() . 'index.php?admin/doctor');                              }		        if ($task == "update") {                          $this->crud_model->update_doctor_info($doctor_id);                $this->session->set_flashdata('message', get_phrase('doctor_info_updated_successfuly'));                            redirect(base_url() . 'index.php?admin/doctor');        }        if ($task == "delete") {            $this->crud_model->delete_doctor_info($doctor_id);            redirect(base_url() . 'index.php?admin/doctor');        }        $data['doctor_info'] = $this->crud_model->select_doctor_info();        $data['page_name'] = 'manage_doctor';        $data['page_title'] = get_phrase('doctor');        $this->load->view('backend/index', $data);    }    function patient($task = "", $patient_id = "") {        if ($this->session->userdata('admin_login') != 1) {            $this->session->set_userdata('last_page', current_url());            redirect(base_url(), 'refresh');        }        if ($task == "create") {        $this->crud_model->save_patient_info();		$this->session->set_flashdata('message', get_phrase('patient_info_saved_successfuly'));        		redirect(base_url() . 'index.php?admin/doc_patient/'.$this->input->post('doctor_id'));        }		if ($task == "create_chem") {        $this->crud_model->save_patient_info();		$this->session->set_flashdata('message', get_phrase('patient_info_saved_successfuly'));        		redirect(base_url() . 'index.php?admin/chem_patient/'.$this->input->post('pharmacist_id'));        }        if ($task == "update") {                $this->crud_model->update_patient_info($patient_id);                $this->session->set_flashdata('message', get_phrase('patient_info_updated_successfuly'));            redirect(base_url() . 'index.php?admin/doc_patient/'.$this->input->post('doctor_id'));        }        if ($task == "delete") {            $this->crud_model->delete_patient_info($patient_id);            redirect(base_url() . 'index.php?admin/patient');        }        $data['patient_info'] = $this->crud_model->select_patient_info();        $data['page_name'] = 'manage_patient';        $data['page_title'] = get_phrase('patient');        $this->load->view('backend/index', $data);    } function attachment($patient_id = "")    {        if ($this->session->userdata('admin_login') != 1)        {			$this->session->set_userdata('last_page' , current_url());             redirect(base_url(), 'refresh');        }		        				$data['attachment_info'] = $this->crud_model->select_attachment_by_patient($patient_id);        		$data['patient'] = $patient_id;        $data['page_name'] = 'manage_test_report';        $data['page_title'] = get_phrase('attachment');        $this->load->view('backend/index', $data);		    }	/*******disease*****/		function disease($task = "", $disease_id = "") {        if ($this->session->userdata('admin_login') != 1) {            $this->session->set_userdata('last_page', current_url());            redirect(base_url(), 'refresh');        }        if ($task == "create") {        $this->crud_model->save_disease_info();		$this->session->set_flashdata('message', get_phrase('disease_info_saved_successfuly'));        		redirect(base_url() . 'index.php?admin/disease');        }        if ($task == "update") {                $this->crud_model->update_disease_info($disease_id);                $this->session->set_flashdata('message', get_phrase('disease_info_updated_successfuly'));                redirect(base_url() . 'index.php?admin/disease');        }        if ($task == "delete") {            $this->crud_model->delete_disease_info($disease_id);            redirect(base_url() . 'index.php?admin/disease');        }        $data['disease_info'] = $this->crud_model->select_disease_info();        $data['page_name'] = 'manage_disease';        $data['page_title'] = get_phrase('disease');        $this->load->view('backend/index', $data);    }			/*******speciality*****/		function speciality($task = "", $speciality_id = "") {        if ($this->session->userdata('admin_login') != 1) {            $this->session->set_userdata('last_page', current_url());            redirect(base_url(), 'refresh');        }        if ($task == "create") {        $this->crud_model->save_speciality_info();		$this->session->set_flashdata('message', get_phrase('speciality_info_saved_successfuly'));        		redirect(base_url() . 'index.php?admin/speciality');        }        if ($task == "update") {                $this->crud_model->update_speciality_info($speciality_id);                $this->session->set_flashdata('message', get_phrase('speciality_info_updated_successfuly'));                redirect(base_url() . 'index.php?admin/speciality');        }        if ($task == "delete") {            $this->crud_model->delete_speciality_info($speciality_id);            redirect(base_url() . 'index.php?admin/speciality');        }        $data['speciality_info'] = $this->crud_model->select_speciality_info();        $data['page_name'] = 'manage_speciality';        $data['page_title'] = get_phrase('speciality');        $this->load->view('backend/index', $data);    }			/*******city*****/		function city($task = "", $city_id = "") {        if ($this->session->userdata('admin_login') != 1) {            $this->session->set_userdata('last_page', current_url());            redirect(base_url(), 'refresh');        }        if ($task == "create") {        $this->crud_model->save_city_info();		$this->session->set_flashdata('message', get_phrase('city_info_saved_successfuly'));        		redirect(base_url() . 'index.php?admin/city');        }        if ($task == "update") {                $this->crud_model->update_city_info($city_id);                $this->session->set_flashdata('message', get_phrase('city_info_updated_successfuly'));                redirect(base_url() . 'index.php?admin/city');        }        if ($task == "delete") {            $this->crud_model->delete_city_info($city_id);            redirect(base_url() . 'index.php?admin/city');        }        $data['city_info'] = $this->crud_model->select_city_info();        $data['page_name'] = 'manage_city';        $data['page_title'] = get_phrase('city');        $this->load->view('backend/index', $data);    }				/*******state*****/		function state($task = "", $state_id = "") {        if ($this->session->userdata('admin_login') != 1) {            $this->session->set_userdata('last_page', current_url());            redirect(base_url(), 'refresh');        }        if ($task == "create") {        $this->crud_model->save_state_info();		$this->session->set_flashdata('message', get_phrase('state_info_saved_successfuly'));        		redirect(base_url() . 'index.php?admin/state');        }        if ($task == "update") {                $this->crud_model->update_state_info($state_id);                $this->session->set_flashdata('message', get_phrase('state_info_updated_successfuly'));                redirect(base_url() . 'index.php?admin/state');        }        if ($task == "delete") {            $this->crud_model->delete_state_info($state_id);            redirect(base_url() . 'index.php?admin/state');        }        $data['state_info'] = $this->crud_model->select_state_info();        $data['page_name'] = 'manage_state';        $data['page_title'] = get_phrase('state');        $this->load->view('backend/index', $data);    }			/********doctor graph**********/		function graph() {        if ($this->session->userdata('admin_login') != 1) {            $this->session->set_userdata('last_page', current_url());            redirect(base_url(), 'refresh');        }		$data['city_id'] = $this->input->post('city_id');						$data['chart_type'] = $this->input->post('chart_type');				$data['speciality_id'] = $this->input->post('speciality_id');				 $data['page_name'] = 'manage_graph';        $data['page_title'] = get_phrase('doctor_analytics');        $this->load->view('backend/index', $data);			}			/********chemist**************/		function chemist_graph() {        if ($this->session->userdata('admin_login') != 1) {            $this->session->set_userdata('last_page', current_url());            redirect(base_url(), 'refresh');        }		$data['city_id'] = $this->input->post('city_id');				$data['chart_type'] = $this->input->post('chart_type');				 $data['page_name'] = 'manage_chemist_graph';        $data['page_title'] = get_phrase('chemist_analytics');        $this->load->view('backend/index', $data);			}		function disease_graph() {        if ($this->session->userdata('admin_login') != 1) {            $this->session->set_userdata('last_page', current_url());            redirect(base_url(), 'refresh');        }		$data['city_id'] = $this->input->post('city_id');				$data['disease_id'] = $this->input->post('disease_id');				$data['chart_type'] = $this->input->post('chart_type');				 $data['page_name'] = 'manage_disease_graph';        $data['page_title'] = get_phrase('age_disease_analytics');        $this->load->view('backend/index', $data);			}		/*********patient graph*********/		function patient_graph() {        if ($this->session->userdata('admin_login') != 1) {            $this->session->set_userdata('last_page', current_url());            redirect(base_url(), 'refresh');        }		$data['city_id'] = $this->input->post('city_id');						$data['chart_type'] = $this->input->post('chart_type');				$data['disease_id'] = $this->input->post('disease_id');				$data['gender'] = $this->input->post('gender');				$data['age_group'] = $this->input->post('age_group');				 $data['page_name'] = 'manage_patient_graph';        $data['page_title'] = get_phrase('patient_analytics');        $this->load->view('backend/index', $data);			}		function get_doctors_data(){				 $this->crud_model->get_city_doctors_data();	}	/******pharmacist*****/        function pharmacist($task = "", $pharmacist_id = "") {        if ($this->session->userdata('admin_login') != 1) {            $this->session->set_userdata('last_page', current_url());            redirect(base_url(), 'refresh');        }        if ($task == "create") {            $email = $_POST['email'];             $name=$_POST['name'];            $phone=$_POST['phone'];            $password=$_POST['password'];//            $pharmacist = $this->db->get_where('pharmacist', array('email' => $email))->row()->name;//            if ($pharmacist == null) {                if(!empty($name) && !empty($email) && !empty($password) && !empty($phone)) {                $this->crud_model->save_pharmacist_info();                $this->session->set_flashdata('message', get_phrase('pharmacist_info_saved_successfuly'));            } else {                $this->session->set_flashdata('message', get_phrase('Fill The Required Fields..!'));            }            redirect(base_url() . 'index.php?admin/pharmacist');        }        if ($task == "update") {                $this->crud_model->update_pharmacist_info($pharmacist_id);                $this->session->set_flashdata('message', get_phrase('pharmacist_info_updated_successfuly'));                redirect(base_url() . 'index.php?admin/pharmacist');        }        if ($task == "delete") {            $this->crud_model->delete_pharmacist_info($pharmacist_id);            redirect(base_url() . 'index.php?admin/pharmacist');        }        $data['pharmacist_info'] = $this->crud_model->select_pharmacist_info();        $data['page_name'] = 'manage_pharmacist';        $data['page_title'] = get_phrase('pharmacist');        $this->load->view('backend/index', $data);    }		/*****operator list*******/	function operator_list($task = "", $operator_list_id = "") {        if ($this->session->userdata('admin_login') != 1) {            $this->session->set_userdata('last_page', current_url());            redirect(base_url(), 'refresh');        }        if ($task == "create") {				$this->crud_model->save_operator_list_info();                $this->session->set_flashdata('message', get_phrase('operator_list_info_saved_successfuly'));            redirect(base_url() . 'index.php?admin/receptionist');        }        if ($task == "delete") {            $this->crud_model->delete_operator_list_info($operator_list_id);            redirect(base_url() . 'index.php?admin/receptionist');        }        $data['operator_list_info'] = $this->crud_model->select_operator_list_info();        $data['page_name'] = 'manage_receptionist';        $data['page_title'] = get_phrase('operator');        $this->load->view('backend/index', $data);    }    function payment_history($task = "") {        if ($this->session->userdata('admin_login') != 1) {            $this->session->set_userdata('last_page', current_url());            redirect(base_url(), 'refresh');        }        $data['invoice_info'] = $this->crud_model->select_all_invoice_info();        $data['page_name'] = 'show_payment_history';        $data['page_title'] = get_phrase('payment_history');        $this->load->view('backend/index', $data);    }    /*function medicine($task = "") {        if ($this->session->userdata('admin_login') != 1) {            $this->session->set_userdata('last_page', current_url());            redirect(base_url(), 'refresh');        }		 if ($task == "create") {        $this->crud_model->save_medicine_info();		$this->session->set_flashdata('message', get_phrase('medicine_info_saved_successfuly'));        		redirect(base_url() . 'index.php?admin/medicine');        }        if ($task == "update") {                $this->crud_model->update_medicine_info($medicine_id);                $this->session->set_flashdata('message', get_phrase('medicine_info_updated_successfuly'));                redirect(base_url() . 'index.php?admin/medicine');        }        if ($task == "delete") {            $this->crud_model->delete_medicine_info($medicine_id);            redirect(base_url() . 'index.php?admin/medicine');        }       $data['medicine_info'] = $this->crud_model->select_medicine_info();        $data['page_name'] = 'show_medicine';        $data['page_title'] = get_phrase('medicine');        $this->load->view('backend/index', $data);    }*//*********prescription*********/function newprescription($task = "", $prescription_id = "", $menu_check = '', $patient_id = '') {        if ($this->session->userdata('admin_login') != 1) {            $this->session->set_userdata('last_page', current_url());            redirect(base_url(), 'refresh');        }        if ($task == "create") {            $this->crud_model->save_newprescription_info();            $this->session->set_flashdata('message', get_phrase('prescription_info_saved_successfuly'));            redirect(base_url() . 'index.php?admin/newprescription');        }        if ($task == "update") {            $this->crud_model->update_newprescription_info($prescription_id);            $this->session->set_flashdata('message', get_phrase('prescription_info_updated_successfuly'));            if ($menu_check == 'from_prescription')                redirect(base_url() . 'index.php?admin/newprescription');            else                redirect(base_url() . 'index.php?admin/medication_history/' . $patient_id);        }        if ($task == "delete") {            $this->crud_model->delete_newprescription_info($prescription_id);            if ($menu_check == 'from_prescription')                redirect(base_url() . 'index.php?admin/newprescription');            else                redirect(base_url() . 'index.php?admin/medication_history/' . $patient_id);        }        $data['prescription_info'] = $this->crud_model->select_prescription_info();        $data['menu_check'] = 'from_prescription';        $data['page_name'] = 'manage_newprescription';        $data['page_title'] = get_phrase('all_prescription');        $this->load->view('backend/index', $data);    }	    function operation_report($task = "") {        if ($this->session->userdata('admin_login') != 1) {            $this->session->set_userdata('last_page', current_url());            redirect(base_url(), 'refresh');        }        $data['page_name'] = 'show_operation_report';        $data['page_title'] = get_phrase('operation_report');        $this->load->view('backend/index', $data);    }    function birth_report($task = "") {        if ($this->session->userdata('admin_login') != 1) {            $this->session->set_userdata('last_page', current_url());            redirect(base_url(), 'refresh');        }        $data['page_name'] = 'show_birth_report';        $data['page_title'] = get_phrase('birth_report');        $this->load->view('backend/index', $data);    }    function death_report($task = "") {        if ($this->session->userdata('admin_login') != 1) {            $this->session->set_userdata('last_page', current_url());            redirect(base_url(), 'refresh');        }        $data['page_name'] = 'show_death_report';        $data['page_title'] = get_phrase('death_report');        $this->load->view('backend/index', $data);    }    function notice($task = "", $notice_id = "") {        if ($this->session->userdata('admin_login') != 1) {            $this->session->set_userdata('last_page', current_url());            redirect(base_url(), 'refresh');        }        if ($task == "create") {            $this->crud_model->save_notice_info();            $this->session->set_flashdata('message', get_phrase('notice_info_saved_successfuly'));            redirect(base_url() . 'index.php?admin/notice');        }        if ($task == "update") {            $this->crud_model->update_notice_info($notice_id);            $this->session->set_flashdata('message', get_phrase('notice_info_updated_successfuly'));            redirect(base_url() . 'index.php?admin/notice');        }        if ($task == "delete") {            $this->crud_model->delete_notice_info($notice_id);            redirect(base_url() . 'index.php?admin/notice');        }        $data['notice_info'] = $this->crud_model->select_notice_info();        $data['page_name'] = 'manage_notice';        $data['page_title'] = get_phrase('noticeboard');        $this->load->view('backend/index', $data);    }        /****add my data***/    function bed($task = "", $bed_id = "") {        if ($this->session->userdata('admin_login') != 1) {            $this->session->set_userdata('last_page', current_url());            redirect(base_url(), 'refresh');        }        if ($task == "create") {            $this->crud_model->save_bed_info();            $this->session->set_flashdata('message', get_phrase('bed_info_saved_successfuly'));            redirect(base_url() . 'index.php?admin/bed');        }        if ($task == "update") {            $this->crud_model->update_bed_info($bed_id);            $this->session->set_flashdata('message', get_phrase('bed_info_updated_successfuly'));            redirect(base_url() . 'index.php?admin/bed');        }        if ($task == "delete") {            $this->crud_model->delete_bed_info($bed_id);            redirect(base_url() . 'index.php?admin/bed');        }        $data['bed_info'] = $this->crud_model->select_bed_info();        $data['page_name'] = 'manage_bed';        $data['page_title'] = get_phrase('bed');        $this->load->view('backend/index', $data);    }    /****add my data***/ function receptionist($task = "", $receptionist_id = "") {        if ($this->session->userdata('admin_login') != 1) {            $this->session->set_userdata('last_page', current_url());            redirect(base_url(), 'refresh');        }        if ($task == "create") {           $email = $_POST['email'];             $name=$_POST['name'];            $phone=$_POST['phone'];            $password=$_POST['password'];            if(!empty($name) && !empty($email) && !empty($password) && !empty($phone)) {//            $receptionist = $this->db->get_where('receptionist', array('email' => $email))->row()->name;//            if ($receptionist == null) {                $this->crud_model->save_receptionist_info();                $this->session->set_flashdata('message', get_phrase('receptionist_info_saved_successfuly'));            } else {                $this->session->set_flashdata('message', get_phrase('Fill The Required Fields..!'));            }            redirect(base_url() . 'index.php?admin/receptionist');        }        if ($task == "update") {                $this->crud_model->update_receptionist_info($receptionist_id);                $this->session->set_flashdata('message', get_phrase('receptionist_info_updated_successfuly'));                redirect(base_url() . 'index.php?admin/receptionist');        }        if ($task == "delete") {            $this->crud_model->delete_receptionist_info($receptionist_id);            redirect(base_url() . 'index.php?admin/receptionist');        }        $data['receptionist_info'] = $this->crud_model->select_receptionist_info();        $data['page_name'] = 'manage_receptionist';        $data['page_title'] = get_phrase('operator');        $this->load->view('backend/index', $data);    }    function medicine($task = "", $medicine_id = "")    {        if ($this->session->userdata('admin_login') != 1)        {            $this->session->set_userdata('last_page' , current_url());            redirect(base_url(), 'refresh');        }                       if ($task == "create")        {            $this->crud_model->save_medicine_info();            $this->session->set_flashdata('message' , get_phrase('medicine_info_saved_successfuly'));            redirect(base_url() .'index.php?admin/medicine');        }               if ($task == "update")        {            $this->crud_model->update_medicine_info($medicine_id);            $this->session->set_flashdata('message' , get_phrase('medicine_info_updated_successfuly'));            redirect(base_url() .'index.php?admin/medicine');        }               if ($task == "delete")        {            $this->crud_model->delete_medicine_info($medicine_id);            redirect(base_url() .'index.php?admin/medicine');        }               $data['medicine_info']  = $this->crud_model->select_medicine_info();        $data['page_name']      = 'manage_medicine';        $data['page_title']     = get_phrase('medicine');        $this->load->view('backend/index', $data);    }			     function selling($task = "", $selling_id = "")    {        if ($this->session->userdata('admin_login') != 1)        {            $this->session->set_userdata('last_page' , current_url());             redirect(base_url(), 'refresh');        }        $data['selling_info']  = $this->crud_model->select_allselling_info();        $data['page_name']      = 'manage_selling';        $data['page_title']     = get_phrase('selling report');        $this->load->view('backend/index', $data);    }    function prescription($doctor_id = "")    {        if ($this->session->userdata('admin_login') != 1)        {			$this->session->set_userdata('last_page' , current_url());             redirect(base_url(), 'refresh');        }        				$data['prescription_info'] = $this->crud_model->select_prescription_info_by_doctor($doctor_id);        $data['menu_check'] = 'from_prescription';        $data['page_name'] = 'manage_newprescription';        $data['page_title'] = get_phrase('prescription');        $this->load->view('backend/index', $data);		    }	function doc_patient($doctor_id = "")    {        if ($this->session->userdata('admin_login') != 1)        {			$this->session->set_userdata('last_page' , current_url());             redirect(base_url(), 'refresh');        }        				$data['patient_info'] = $this->crud_model->select_patient_info_by_doctor($doctor_id);        $data['doctor_id'] = $doctor_id;        $data['page_name'] = 'manage_doc_patient';        $data['page_title'] = get_phrase('prescription');        $this->load->view('backend/index', $data);		    }	function chem_patient($pharmacist_id = "")    {        if ($this->session->userdata('admin_login') != 1)        {			$this->session->set_userdata('last_page' , current_url());             redirect(base_url(), 'refresh');        }        				$data['patient_info'] = $this->crud_model->select_patient_info_by_pharmacist($pharmacist_id);        $data['pharmacist_id'] = $pharmacist_id;        $data['page_name'] = 'manage_chem_patient';        $data['page_title'] = get_phrase('prescription');        $this->load->view('backend/index', $data);		    }	function prescript($patient_id = "")    {        if ($this->session->userdata('admin_login') != 1)        {			$this->session->set_userdata('last_page' , current_url());             redirect(base_url(), 'refresh');        }        				$data['prescription_info'] = $this->crud_model->select_prescription_info_by_patient($patient_id);        $data['menu_check'] = 'from_prescription';		$data['patient_id'] = $patient_id;        $data['page_name'] = 'manage_prescription';        $data['page_title'] = get_phrase('prescription');        $this->load->view('backend/index', $data);		    }    function invoice($task = "", $invoice_id = "")    {        if ($this->session->userdata('admin_login') != 1)        {            $this->session->set_userdata('last_page' , current_url());             redirect(base_url(), 'refresh');        }        $data['invoice_info']  = $this->crud_model->select_all_invoice_info();        $data['page_name']      = 'manage_invoice';        $data['page_title']     = get_phrase('invoice report');        $this->load->view('backend/index', $data);    }}